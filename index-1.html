<!DOCTYPE html>
<!--This is how you comment for html-->
<html lang="en" dir="ltr">
<head>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <title> My Map </title>
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css' rel='stylesheet' />
  <style>
  /*this CSS section is where you style your page*/
  /*this is how you comment in CSS*/
  body { margin: 0; padding: 0; }
  #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id='map'></div>
  <script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiY3dpbG1vdHQiLCJhIjoiY2s2bWRjb2tiMG1xMjNqcDZkbGNjcjVraiJ9.2nNOYL23A1cfZSE4hdC9ew';

  //Call in your Map
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/clancywilmott/ck9cmc1l800qz1ipjv9e2wga3'
  });

  // Initialize the geolocate control.
  var geolocate = new mapboxgl.GeolocateControl({
    positionOptions: {
      enableHighAccuracy: true
    },
    trackUserLocation: true
  });

  // Add the control to the map.
  map.addControl(geolocate);

  map.on('load', function() {
    geolocate.trigger();
    map.addSource('places', {
      'type': 'geojson',
      'data': {
        'type': 'FeatureCollection',
        'features': [
          {
            'type': 'Feature',
            'properties': {
              'title': '<p>Abandoned Building<p/>',
              'description': '<p>This block was bought by Nuffield Health and then abandoned.</p>',
            },
            'geometry': {
              'type': 'Point',
              'coordinates': [
                -2.2210101,
                53.458385
              ]
            }
          },
          {
            'type': 'Feature',
            'properties': {
              'title': 'Abandoned House',
              'description': 'This house has been boarded up for three years now. Foxes live there.'
            },
            'geometry': {
              'type': 'Point',
              'coordinates': [
                -2.2201326,
                53.456842
              ]
            }
          },
          {
            'type': 'Feature',
            'properties': {
              'title': 'Squirrel',
              'description': 'A fat grey squirrel who was not afraid of people.'
            },
            'geometry': {
              'type': 'Point',
              'coordinates': [
                -2.2199295,
                53.456497
              ]
            }
          },
          {
            'type': 'Feature',
            'properties': {
              'title': 'Old Tree',
              'description': 'This tree is really gnarly and old.'
            },
            'geometry': {
              'type': 'Point',
              'coordinates': [
                -2.2161992,
                53.455239
              ]
            }
          },
          {
            'type': 'Feature',
            'properties': {
              'title': 'Graffiti',
              'description': '\"Complacency is latency\\\"'
            },
            'geometry': {
              'type': 'Point',
              'coordinates': [
                -2.2170511,
                53.45581
              ]
            }
          }
        ]
      }
    });
    // Add a layer showing the places.
      map.addLayer({
          'id': 'places',
          'type': 'symbol',
          'source': 'places',
          'layout': {
              'icon-image': 'marker-stroked-15',
              'icon-allow-overlap': true
          }
      });
  });

</script>
</body>
</html>
